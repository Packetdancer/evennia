{% extends "base.html" %}
{% load app_filters %}
{% block content %}
	
	<div class="text-left">
	<a href="{% url 'dominion:list_task_stories' %}" class="btn btn-primary" role="button">Rumors/Stories</a>
	</div>
    <h2 class="text-center">Upcoming Events</h2>
	
	<hr />
	<table class="table table-hover">
	<tr class="danger">
		<td>Name</td>
		<td>Date</td>
		<td>Location</td>
		<td>Level</td>
	</tr>
	{% for obj in view.unfinished %}

		<td width="25%"><a href="{% url 'dominion:display_event' obj.id %}">{{ obj.name }}</a></td>
		<td width="25%">{{ obj.date }}</td>
		<td width="25%">{{ obj.location.key|mush_to_html }}</td>
		<td width="25%">{{ obj.get_celebration_tier_display }}</td>
		</tr>
	{% endfor %}
	</table>
	<hr />
	<h2 class="text-center">Previous Events</h2>
	<table class="table table-hover">
	<tr class="danger">
		<td>Name</td>
		<td>Date</td>
		<td>Location</td>
		<td>Level</td>
	</tr>
	{% for obj in object_list %}
		<td width="25%"><a href="{% url 'dominion:display_event' obj.id %}">{{ obj.name }}</a></td>
		<td width="25%">{{ obj.date }}</td>
		<td width="25%">{{ obj.location.key|mush_to_html }}</td>
		<td width="25%">{{ obj.get_celebration_tier_display }}</td>
		</tr>
	{% endfor %}
	</table>
	{% if is_paginated %}
	<div class="pagination">
    <span class="step-links">
	<ul class="pager">
        {% if page_obj.has_previous %}
            <li><a href="?page={{ page_obj.previous_page_number }}">previous</a></li>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <li><a href="?page={{ page_obj.next_page_number }}">next</a></li>
        {% endif %}
	</ul>
    </span>
	</div>
	{% endif %}
	
	
{% endblock %}